# Home Recents Hardening: Fallback + Auto Retry + Manual Retry

- Number: 27
- Created: 2026-02-20T02:12:26.873751
- File: `27.md`

## Details

Third pass fix for Home recent entries visibility.

What was added:
- File: lib/screens/unified_home_screen.dart
1) Added robust composition helper `_composeRecentEntries(...)` and reused it both in async loader and UI fallback path.
2) Added in-flight update queue handling (`_pendingRecentReload`) to avoid dropped refreshes.
3) Added one-shot bootstrap reload trigger in UI when recent list is empty and provider is idle (`_recentBootstrapReloadQueued`).
4) Added manual retry button in Home empty recent-state card (`common_retry`) that triggers `EntryProvider.loadEntries()` + `_loadRecentEntries()`.
5) Added debug line with composed count: `Recent entries composed: N`.

Why:
- Even if async state misses or auth/provider timing is delayed, Home now derives a fallback recent list directly from provider data and has automatic/manual reload paths.

Verification:
- flutter analyze lib/screens/unified_home_screen.dart => PASS
- flutter analyze => PASS
- flutter test => PASS
