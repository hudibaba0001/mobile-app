# BLUEPRINT source-of-truth document

- Number: 13
- Created: 2026-02-19T18:29:47.507237
- File: `13.md`

## Details

Created `docs/BLUEPRINT.md` as a full source-of-truth engineering blueprint based strictly on current repository code.

Included:
- Executive overview and domain split (Tracked vs Credited vs Balance offsets)
- Flutter architecture, providers, storage, sync, auth, and backend API mappings
- Offline/online workflow with sync queue behavior and conflict notes
- Billing/subscription and entitlement flow with explicit NOT IMPLEMENTED notes for missing plan-tier/promo logic
- Data model definitions and invariants for entries, absences, adjustments, opening balance, and targets
- Strict calculation rules mapped to reporting calculators and query/aggregation layers
- Screen-by-screen behavior for Home, Reports (Overview/Trends/Time Balance/Leaves), History, entry flows, and Settings
- Export schema and behavior for CSV/XLSX including report-summary adjustments sheet
- Full settings list with defaults, storage location, and behavior effects
- Known pitfalls and test guardrails
- "Where to change" map with exact files per major behavior area

Also added two Mermaid diagrams:
1) Offline/online entry + sync flowchart
2) Data model ER diagram

No application code logic was changed. Documentation-only output.
