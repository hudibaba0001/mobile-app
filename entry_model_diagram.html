<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Entry Model Architecture - Material 3</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 40px;
            background: linear-gradient(135deg, #f8f9ff 0%, #e8f4fd 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 28px;
            padding: 40px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }
        
        .title {
            text-align: center;
            color: #1d192b;
            font-size: 32px;
            font-weight: 500;
            margin-bottom: 40px;
            letter-spacing: -0.5px;
        }
        
        .diagram {
            position: relative;
            width: 100%;
            height: 600px;
            margin: 40px 0;
        }
        
        /* Main Entry Model Box */
        .entry-box {
            position: absolute;
            left: 50%;
            top: 20%;
            transform: translateX(-50%);
            width: 320px;
            background: linear-gradient(135deg, #6750a4 0%, #7c4dff 100%);
            border-radius: 20px;
            padding: 24px;
            color: white;
            box-shadow: 0 8px 24px rgba(103, 80, 164, 0.3);
        }
        
        .entry-title {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 16px;
            text-align: center;
        }
        
        .field {
            margin: 8px 0;
            font-size: 14px;
            font-weight: 400;
            opacity: 0.95;
        }
        
        .field-name {
            font-weight: 500;
            color: #e8def8;
        }
        
        .field-type {
            color: #cac4d0;
            font-style: italic;
        }
        
        /* Shift Sub-box */
        .shift-box {
            position: absolute;
            right: 10%;
            top: 35%;
            width: 200px;
            background: linear-gradient(135deg, #00695c 0%, #00897b 100%);
            border-radius: 16px;
            padding: 20px;
            color: white;
            box-shadow: 0 6px 20px rgba(0, 105, 92, 0.3);
        }
        
        .shift-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
            text-align: center;
        }
        
        /* EntryType Enum Box */
        .enum-box {
            position: absolute;
            left: 10%;
            top: 35%;
            width: 180px;
            background: linear-gradient(135deg, #d32f2f 0%, #f44336 100%);
            border-radius: 16px;
            padding: 20px;
            color: white;
            box-shadow: 0 6px 20px rgba(211, 47, 47, 0.3);
        }
        
        .enum-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .enum-value {
            margin: 6px 0;
            font-size: 14px;
            padding: 4px 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            text-align: center;
        }
        
        /* Computed Properties Box */
        .computed-box {
            position: absolute;
            left: 50%;
            bottom: 10%;
            transform: translateX(-50%);
            width: 400px;
            background: linear-gradient(135deg, #ff6f00 0%, #ff8f00 100%);
            border-radius: 16px;
            padding: 20px;
            color: white;
            box-shadow: 0 6px 20px rgba(255, 111, 0, 0.3);
        }
        
        .computed-title {
            font-size: 18px;
            font-weight: 500;
            margin-bottom: 12px;
            text-align: center;
        }
        
        .computed-property {
            margin: 8px 0;
            font-size: 14px;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 8px;
        }
        
        /* Arrows */
        .arrow {
            position: absolute;
            stroke: #6750a4;
            stroke-width: 2;
            fill: none;
            marker-end: url(#arrowhead);
        }
        
        .arrow-label {
            position: absolute;
            background: #6750a4;
            color: white;
            padding: 4px 8px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 500;
        }
        
        /* Arrow for work entries */
        .work-arrow {
            stroke: #00695c;
            marker-end: url(#arrowhead-green);
        }
        
        .work-arrow-label {
            background: #00695c;
        }
        
        /* Arrow for computed properties */
        .computed-arrow {
            stroke: #ff6f00;
            marker-end: url(#arrowhead-orange);
        }
        
        .computed-arrow-label {
            background: #ff6f00;
        }
        
        /* Enum arrow */
        .enum-arrow {
            stroke: #d32f2f;
            marker-end: url(#arrowhead-red);
        }
        
        .enum-arrow-label {
            background: #d32f2f;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Entry Model Architecture Diagram</h1>
        <p style="text-align: center; color: #49454f; font-size: 16px; margin-bottom: 40px;">
            Material 3 Design • Unified Entry Model for Travel & Work Tracking
        </p>
        
        <div class="diagram">
            <!-- SVG for arrows -->
            <svg width="100%" height="100%" style="position: absolute; top: 0; left: 0; pointer-events: none;">
                <defs>
                    <!-- Purple arrowhead -->
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#6750a4" />
                    </marker>
                    <!-- Green arrowhead -->
                    <marker id="arrowhead-green" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#00695c" />
                    </marker>
                    <!-- Orange arrowhead -->
                    <marker id="arrowhead-orange" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#ff6f00" />
                    </marker>
                    <!-- Red arrowhead -->
                    <marker id="arrowhead-red" markerWidth="10" markerHeight="7" 
                            refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#d32f2f" />
                    </marker>
                </defs>
                
                <!-- Arrow from Entry to Shift -->
                <path class="arrow work-arrow" d="M 580 250 Q 650 280 750 300" />
                
                <!-- Arrow from EntryType to Entry -->
                <path class="arrow enum-arrow" d="M 280 300 Q 350 280 420 250" />
                
                <!-- Arrow from Entry to Computed Properties -->
                <path class="arrow computed-arrow" d="M 580 350 Q 580 400 580 450" />
            </svg>
            
            <!-- EntryType Enum Box -->
            <div class="enum-box">
                <div class="enum-title">EntryType</div>
                <div class="enum-value">travel</div>
                <div class="enum-value">work</div>
            </div>
            
            <!-- Main Entry Model Box -->
            <div class="entry-box">
                <div class="entry-title">Entry</div>
                <div class="field">
                    <span class="field-name">id</span> : <span class="field-type">String</span>
                </div>
                <div class="field">
                    <span class="field-name">userId</span> : <span class="field-type">String</span>
                </div>
                <div class="field">
                    <span class="field-name">type</span> : <span class="field-type">EntryType</span>
                </div>
                <div class="field">
                    <span class="field-name">date</span> : <span class="field-type">DateTime</span>
                </div>
                <div class="field">
                    <span class="field-name">travelMinutes?</span> : <span class="field-type">int</span>
                </div>
                <div class="field">
                    <span class="field-name">from?</span> : <span class="field-type">String</span>
                </div>
                <div class="field">
                    <span class="field-name">to?</span> : <span class="field-type">String</span>
                </div>
                <div class="field">
                    <span class="field-name">shifts?</span> : <span class="field-type">List&lt;Shift&gt;</span>
                </div>
            </div>
            
            <!-- Shift Sub-box -->
            <div class="shift-box">
                <div class="shift-title">Shift</div>
                <div class="field">
                    <span class="field-name">start</span> : <span class="field-type">DateTime</span>
                </div>
                <div class="field">
                    <span class="field-name">end</span> : <span class="field-type">DateTime</span>
                </div>
            </div>
            
            <!-- Computed Properties Box -->
            <div class="computed-box">
                <div class="computed-title">Computed Properties</div>
                <div class="computed-property">
                    <strong>travelDuration</strong><br>
                    <code>Duration(minutes: travelMinutes)</code>
                </div>
                <div class="computed-property">
                    <strong>workDuration</strong><br>
                    <code>Σ(end – start) of shifts</code>
                </div>
            </div>
            
            <!-- Arrow Labels -->
            <div class="arrow-label enum-arrow-label" style="left: 340px; top: 275px;">
                type
            </div>
            <div class="arrow-label work-arrow-label" style="left: 650px; top: 275px;">
                work entries
            </div>
            <div class="arrow-label computed-arrow-label" style="left: 590px; top: 400px;">
                getters
            </div>
        </div>
        
        <div style="margin-top: 40px; padding: 24px; background: #f7f2fa; border-radius: 16px;">
            <h3 style="color: #6750a4; margin-bottom: 16px;">Model Relationships</h3>
            <ul style="color: #49454f; line-height: 1.6;">
                <li><strong>Entry</strong> is the central unified model that can represent both travel and work entries</li>
                <li><strong>EntryType</strong> enum determines whether the entry is for travel or work tracking</li>
                <li><strong>Shift</strong> is used only for work entries to track multiple work periods in a day</li>
                <li><strong>Computed Properties</strong> provide convenient duration calculations based on entry type</li>
                <li>Optional fields (marked with ?) are used conditionally based on the entry type</li>
            </ul>
        </div>
    </div>
</body>
</html>
